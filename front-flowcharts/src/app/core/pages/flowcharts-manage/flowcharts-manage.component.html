<div #modal id="modal" class="modalOff">
    <div class="modal-content">
        <form id="modalForm">
            <input type="text" #flowchartTitle id="flowchartTitle" placeholder="Type the flowchart title...">
            <div id="modalButtons">
                <button *ngIf="editingFlowchart; else addButton" id="editButton" (click)="editFlowchart(flowchartTitle)">Edit flowchart</button>
                <ng-template #addButton>
                    <button id="submitButton" (click)="addFlowchart(flowchartTitle)">Add flowchart</button>
                </ng-template>
                <button id="backButton" (click)="backToScreen(flowchartTitle)">Back</button>
            </div>
        </form>
    </div>
</div>

<div id="pageContent">
    <div id="manageContent">
        <div class="flowchartHead">
            <h2>Flowchart Management</h2>
            <div class="searchBar">
                <input type="text" name="search" id="search" [(ngModel)]="searchText" placeholder="Seach by id or title...">
                <img src="assets/images/search-sign.png">
            </div>
            <div>
                <button (click)="callModal()">
                    <img class="icons" src="assets/images/plus-sign.png" alt="plus sign">
                    <span>Add new flowchart!</span>
                </button>
            </div>
        </div>
        <table class="manageTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Title</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let flowchart of flowcharts | search: searchText;" [routerLink]="['flowchartList', flowchart.id]" >  
                    <td>{{flowchart.id}}</td>
                    <td>{{flowchart.title}}</td>
                    <td>{{flowchart.created_at}}</td>
                    <td>{{flowchart.updated_at}}</td>
                    <td>
                        <button class="editButton" (click)="callEditModal(flowchart.id, flowchart.title)"><img class="icons" src="assets/images/edit-sign.png" alt="edit sign"></button>
                        <button class="removeButton" (click)="removeFlowchart(flowchart.id)"><img class="icons" src="assets/images/trash.png" alt="delete sign"></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>